<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Checklist Operacional RPAS</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="css/style.css" />
  <link rel="apple-touch-icon" href="assets/icons/apple-touch-icon.png">
</head>

<body>

<header class="app-header">
  <div class="header-left">
    <span class="header-title">Checklist Operacional RPAS</span>
  </div>
  <div class="header-right">
    <a href="https://github.com/leaphar1979/checklist-rpas/blob/main/README.md"
       target="_blank"
       class="header-link">üìò Sobre / Doutrina</a>
  </div>
</header>

<main class="app-container">

<!-- SPLASH -->
<section id="splash" class="screen active">
  <h1>Checklist Operacional RPAS</h1>
  <p class="subtitle">COARP ¬∑ NOARP ¬∑ SAER ¬∑ PCSC</p>
  <button id="startBtn">Iniciar Checklist</button>
</section>

<!-- IDENTIFICA√á√ÉO -->
<section id="mission" class="screen">
  <h2>Identifica√ß√£o da Miss√£o</h2>
  <form id="missionForm">
    <input id="pilot" placeholder="Piloto Remoto" required>
    <input id="observer" placeholder="Observador">
    <input id="unit" placeholder="Unidade" required>
    <input id="rpas" placeholder="RPAS" required>
    <select id="missionType" required>
      <option value="">Tipo de Miss√£o</option>
      <option>Investiga√ß√£o</option>
      <option>Opera√ß√£o</option>
      <option>Treinamento</option>
      <option>Outro</option>
    </select>
    <button type="submit">Avan√ßar</button>
  </form>
</section>

<!-- FASE 1 -->
<section id="phase1" class="screen">
  <h2>Fase 1 ‚Äì Prepara√ß√£o para o Voo</h2>
  <form id="phase1Form" class="checklist">
    <label><input type="checkbox"> Itens de Conforto</label>
    <label><input type="checkbox"> Login conta DJI</label>
    <label><input type="checkbox"> Integridade f√≠sica da aeronave</label>
    <label><input type="checkbox"> Manuseio correto</label>
    <label><input type="checkbox"> Verifica√ß√£o estrutural</label>
    <label><input type="checkbox"> Baterias carregadas</label>
    <label><input type="checkbox"> Bra√ßos abertos</label>
    <label><input type="checkbox"> Cart√£o microSD</label>
    <label><input type="checkbox"> H√©lices fixadas</label>
    <label><input type="checkbox"> Bateria inserida</label>
    <label><input type="checkbox"> Local seguro</label>
    <label><input type="checkbox"> Antenas posicionadas</label>
    <label><input type="checkbox"> R√°dio controle ligado</label>
    <label><input type="checkbox"> Tampa do gimbal retirada</label>
    <label><input type="checkbox"> Aeronave ligada</label>
    <label><input type="checkbox"> Atualiza√ß√µes verificadas</label>
    <label><input type="checkbox"> Status da aeronave</label>
    <label><input type="checkbox"> Altura RTH</label>
    <label><input type="checkbox"> Limites configurados</label>
    <label><input type="checkbox"> Perda de sinal</label>
    <label><input type="checkbox"> Low battery</label>
    <label><input type="checkbox"> Sat√©lites</label>
    <label><input type="checkbox"> Homepoint</label>
    <label><input type="checkbox"> Posi√ß√£o piloto/drone</label>
    <label><input type="checkbox"> Motores acionados</label>
    <label><input type="checkbox"> Varredura 360¬∞</label>
    <label><input type="checkbox"> Teste de comandos</label>
    <label><input type="checkbox"> Pouso e corte</label>

    <button type="button" class="btn-secondary" onclick="goToEarlyEnd('phase1')">
      Encerrar checklist
    </button>

    <button type="submit">Avan√ßar</button>
  </form>
</section>

<!-- FASE 2 -->
<section id="phase2" class="screen">
  <h2>Fase 2 ‚Äì Prevoo</h2>
  <form id="phase2Form" class="checklist">
    <label><input type="checkbox"> Clima</label>
    <label><input type="checkbox"> Trajet√≥ria</label>
    <label><input type="checkbox"> Ambiente seguro</label>
    <label><input type="checkbox"> Baterias</label>
    <label><input type="checkbox"> Cart√µes</label>
    <label><input type="checkbox"> H√©lices</label>
    <label><input type="checkbox"> Tampa do gimbal</label>
    <label><input type="checkbox"> Bateria</label>
    <label><input type="checkbox"> Local seguro</label>
    <label><input type="checkbox"> Ligar equipamentos</label>
    <label><input type="checkbox"> RTH</label>
    <label><input type="checkbox"> Sat√©lites</label>
    <label><input type="checkbox"> Aviso equipe</label>
    <label><input type="checkbox"> Motores</label>

    <button type="button" class="btn-secondary" onclick="goToEarlyEnd('phase2')">
      Encerrar checklist
    </button>

    <button type="submit">Avan√ßar</button>
  </form>
</section>

<!-- FASE 3 -->
<section id="phase3" class="screen">
  <h2>Fase 3 ‚Äì Voo</h2>
  <form id="phase3Form" class="checklist">
    <label><input type="checkbox"> Vigil√¢ncia a√©rea</label>
    <label><input type="checkbox"> Aproxima√ß√£o</label>
    <label><input type="checkbox"> Clima</label>
    <label><input type="checkbox"> Obst√°culos</label>
    <label><input type="checkbox"> Aviso pouso</label>
    <label><input type="checkbox"> Pouso correto</label>
    <label><input type="checkbox"> Corte motores</label>
    <label><input type="checkbox"> Desligamento</label>

    <button type="button" class="btn-secondary" onclick="goToEarlyEnd('phase3')">
      Encerrar checklist
    </button>

    <button type="submit">Avan√ßar</button>
  </form>
</section>

<!-- FASE 4 -->
<section id="phase4" class="screen">
  <h2>Fase 4 ‚Äì P√≥s-Voo</h2>
  <form id="phase4Form" class="checklist">
    <label><input type="checkbox"> Retirar bateria</label>
    <label><input type="checkbox"> Trava do gimbal</label>
    <label><input type="checkbox"> Guardar aeronave</label>
    <label><input type="checkbox"> Cart√£o</label>
    <label><input type="checkbox"> Integridade</label>
    <label><input type="checkbox"> Comunica√ß√£o</label>

    <button type="button" class="btn-secondary" onclick="goToEarlyEnd('phase4')">
      Encerrar checklist
    </button>

    <button type="submit">Avan√ßar</button>
  </form>
</section>

<!-- FASE 5 -->
<section id="phase5" class="screen">
  <h2>Fase 5 ‚Äì P√≥s-Miss√£o</h2>
  <form id="phase5Form" class="checklist">
    <label><input type="checkbox"> Guarda imagens</label>
    <label><input type="checkbox"> Registro</label>
    <label><input type="checkbox"> Chefia</label>
    <label><input type="checkbox"> Intercorr√™ncias</label>
    <label><input type="checkbox"> Encerrar miss√£o</label>

    <button type="button" class="btn-secondary" onclick="goToEarlyEnd('phase5')">
      Encerrar checklist
    </button>

    <button type="submit">Finalizar Checklist</button>
  </form>
</section>
<!-- FINAL ‚Äì ASSINATURA -->
<section id="pdfScreen" class="screen">
  <h2>Encerramento do Checklist</h2>

  <p>
    Declaro que executei integralmente o checklist operacional RPAS conforme
    a doutrina vigente da Pol√≠cia Civil de Santa Catarina.
  </p>

  <form id="signatureForm">

    <!-- OBSERVA√á√ïES (AGORA NO LUGAR CERTO) -->
    <label for="operatorNotes">
      Observa√ß√µes discricion√°rias do operador (opcional)
    </label>
    <textarea
      id="operatorNotes"
      placeholder="Descreva aqui qualquer observa√ß√£o relevante sobre a miss√£o, intercorr√™ncias ou encerramento."
      rows="4"
      class="form-input"
    ></textarea>

    <!-- IDENTIFICA√á√ÉO -->
    <input
      id="signatureName"
      placeholder="Nome do Operador"
      required
      class="form-input"
    >

    <input
      id="signatureId"
      placeholder="Matr√≠cula Funcional"
      required
      class="form-input"
    >

    <label class="signature-check">
      <input type="checkbox" id="signatureConfirm" required>
      Confirmo a veracidade das informa√ß√µes
    </label>

    <button type="submit">
      Assinar e Gerar PDF
    </button>

  </form>
</section>

<!-- ENCERRAMENTO ANTECIPADO -->
<section id="earlyEndScreen" class="screen">
  <h2>Encerramento Antecipado do Checklist</h2>
  <p>
    O encerramento antecipado dever√° ser devidamente justificado e ficar√°
    registrado para fins administrativos e de auditoria.
  </p>

  <form id="earlyEndForm">
    <textarea id="earlyEndReason"
      placeholder="Descreva o motivo do encerramento antecipado"
      rows="5"
      required></textarea>

    <label class="signature-check">
      <input type="checkbox" id="earlyEndConfirm" required>
      Confirmo o encerramento antecipado
    </label>

    <button type="submit">Confirmar Encerramento</button>
  </form>
</section>

</main>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="js/app.js"></script>
<script>
  if ("serviceWorker" in navigator) {
    window.addEventListener("load", () => {
      navigator.serviceWorker.register("./service-worker.js");
    });
  }
</script>

</body>
</html>
